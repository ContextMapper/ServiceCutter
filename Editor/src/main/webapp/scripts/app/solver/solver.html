<div ng-cloak>
	<div class="row">
		<div class="col-md-12">
			<h1>Services Toolkit Solver</h1>
			<div class="col-md-8">
				<form class="form-inline">
					<div class="form-group">
						<select id="modelId" class="form-control" ng-model="modelId"
							ng-options="item.id as 'Model #' + item.id for item in availableModels">
							<option value=''>- Choose an existing model -</option>
						</select>
					</div>
					
	
					<span>{{status}}</span>
				</form>
	
				<div ng-show="modelId">
	
					<div class="graph-container" ngsf-fullscreen>
						<vis-network data="graphData" options="graphOptions"
							events="graphEvents"></vis-network>
						<button class="btn btn-default" ngsf-toggle-fullscreen>
							<span class="glyphicon glyphicon-resize-full"></span>
						</button>
					</div>
	
				</div>
				            
				<div ng-show="selectedServiceName">
					<h2>{{selectedServiceName}}</h2>
					<p>Responsible for Use Cases:</p>
					<ul>
						<li ng-repeat="useCase in selectedServiceUseCases">{{useCase}}</li>
					</ul>
					<p><b>Relationships:</b></p>
					<div ng-repeat="relation in selectedServiceRelations">
						<p>Published Language between {{relation.name}}</p>
						<ul>
							<li ng-repeat="field in relation.fields">{{field}}</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<h3>Coupling Criteria Priorities:</h3>
				<div ng-repeat="criterion in criteria">
					 <form name="myForm">
					    <label for="{{criterion.name}}">{{criterion.name}}: </label>
					    <select name="{{criterion.name}}" id="{{criterion.name}}" ng-model="criterion.priority"  ng-change="solve()">
				    	  	<option ng-selected="criterion.priority == metric.value" ng-repeat="metric in priorityMetric" value="{{metric.value}}">{{metric.name}}</option>
					    </select>
					  </form>
				</div>
				
				<h3>Algorithm:</h3>
				<select class="form-control" ng-model="algorithm" ng-options="a for a in availableAlgorithms" ng-change="solve()"></select>
				
				<h3>Visualization:</h3>				
				Show Service Relations:<br />
				<rzslider rz-slider-model="relations" 
					rz-slider-step="1" 
					rz-slider-precision="0" 
					rz-slider-on-end="solve()" 
					rz-slider-floor="0" 
					rz-slider-ceil="1">
				</rzslider>
				
				<h3>Algorithm Params:</h3>
				<div width="50%">
				    Number of Clusters (Girvan-Newman):<br />
				    <rzslider rz-slider-model="numberSlider" 
				    	rz-slider-step="1" 
				    	rz-slider-precision="0" 
				    	rz-slider-on-end="solve()" 
				    	rz-slider-floor="0" 
				    	rz-slider-ceil="10">
				    </rzslider>
				    Comparable node characteristic preference exponent (Leung):<br />
				    <rzslider rz-slider-model="leungM" 
				    	rz-slider-step="0.1" 
				    	rz-slider-precision="1" 
				    	rz-slider-on-end="solve()" 
				    	rz-slider-floor="0" 
				    	rz-slider-ceil="1">
				    </rzslider>
				    Hop attenuation factor (Leung):<br />
				    <rzslider rz-slider-model="leungDelta" 
				    	rz-slider-step="0.05" 
				    	rz-slider-precision="2" 
				    	rz-slider-on-end="solve()" 
				    	rz-slider-floor="0" 
				    	rz-slider-ceil="1">
				    </rzslider>
				    Iterations (Leung):<br />
				    <rzslider rz-slider-model="iterations" 
				    	rz-slider-step="1" 
				    	rz-slider-precision="0" 
				    	rz-slider-on-end="solve()" 
				    	rz-slider-floor="1" 
				    	rz-slider-ceil="20">
				    </rzslider>
				</div>				
			</div>
		</div>
	</div>
</div>
